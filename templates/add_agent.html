{% extends "base.html" %}

{% block title %}Add Agent for {{ repo.full_name }} - Repository & Agent Manager{% endblock %}

{% block content %}
<div class="card">
    <h2>Add New Agent for {{ repo.full_name }}</h2>
    <form method="post" action="/web/repos/{{ repo.id }}/agents/add">
        <div class="form-group">
            <label for="name">Agent Name *</label>
            <input type="text" id="name" name="name" required placeholder="e.g., Code Reviewer, Documentation Helper">
        </div>
        
        <div class="form-group">
            <label for="agent_type">Agent Type *</label>
            <select id="agent_type" name="agent_type" required>
                <option value="">Select agent type</option>
                {% for agent_type in agent_types %}
                <option value="{{ agent_type }}">{{ agent_type.replace('_', ' ').title() }}</option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="persona">Persona/Description *</label>
            <textarea id="persona" name="persona" required placeholder="Describe the agent's personality and role..."></textarea>
        </div>
        
        <div class="form-group">
            <label for="system_prompt">System Prompt *</label>
            <textarea id="system_prompt" name="system_prompt" required placeholder="Instructions for how the agent should behave..."></textarea>
        </div>
        
        <div style="text-align: center;">
            <button type="submit" class="btn btn-success">Add Agent</button>
            <a href="/web/repos/{{ repo.id }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<div class="card">
    <h3>Agent Type Descriptions</h3>
    <ul style="list-style: none; padding: 0;">
        <li style="margin-bottom: 10px;">
            <strong>Code Reviewer:</strong> Helps with code review, bug detection, and code quality improvements.
        </li>
        <li style="margin-bottom: 10px;">
            <strong>Documentation:</strong> Assists with writing and maintaining documentation, README files, and guides.
        </li>
        <li style="margin-bottom: 10px;">
            <strong>Testing:</strong> Helps with writing tests, test strategies, and testing best practices.
        </li>
        <li style="margin-bottom: 10px;">
            <strong>Deployment:</strong> Assists with deployment strategies, CI/CD, and infrastructure concerns.
        </li>
        <li style="margin-bottom: 10px;">
            <strong>General:</strong> A general-purpose agent that can help with various repository tasks.
        </li>
    </ul>
</div>
{% endblock %}